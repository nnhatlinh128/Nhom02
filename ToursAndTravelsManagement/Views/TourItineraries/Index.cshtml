@model IEnumerable<ToursAndTravelsManagement.Models.TourItinerary>

@{
    ViewData["Title"] = "Quản lý lịch trình tour";
}

<div class="container py-5">

    <!-- Header -->
    <div class="card shadow-xl mb-4">
        <div class="card-body bg-light-purple rounded-4 d-flex justify-content-between align-items-center">
            <h3 class="fw-bold mb-0 text-primary">
                <i class="fas fa-route me-2"></i>
                Lịch trình tour:
                <span class="fw-semibold">@ViewBag.TourName</span>
            </h3>

            <!-- Back to Tour -->
            <a asp-controller="Tours"
            asp-action="Index"
            class="btn btn-sm btn-outline-secondary rounded-pill px-3 back-btn">
                <i class="fas fa-arrow-left me-1"></i>
                ← Quay lại danh sách tour
            </a>
        </div>
    </div>

    <!-- Action -->
    <div class="mb-3 d-flex justify-content-between align-items-center">
        <a asp-action="Create"
           asp-route-tourId="@ViewBag.TourId"
           class="btn btn-primary rounded-pill px-4 hover-lift">
            <i class="fas fa-plus me-1"></i>
            Thêm ngày mới
        </a>
    </div>

    <!-- Table -->
    <div class="card shadow-xl">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead class="bg-light-purple">
                    <tr class="text-primary">
                        <th style="width:120px">Ngày</th>
                        <th>Tiêu đề</th>
                        <th style="width:180px" class="text-center">Hành động</th>
                    </tr>
                </thead>
                <tbody>
                @foreach (var item in Model)
                {
                    <tr class="hover-lift">
                        <td class="fw-semibold">
                            Ngày @item.DayNumber
                        </td>
                        <td>@item.Title</td>
                        <td class="text-center">
                            <div class="btn-group">
                                <a asp-action="Edit"
                                   asp-route-id="@item.TourItineraryId"
                                   class="btn btn-sm btn-outline-warning">
                                    <i class="fas fa-edit"></i>
                                    Sửa
                                </a>
                                <a asp-action="Delete"
                                   asp-route-id="@item.TourItineraryId"
                                   class="btn btn-sm btn-outline-danger">
                                    <i class="fas fa-trash-alt"></i>
                                    Xóa
                                </a>
                            </div>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>

    <!-- Empty -->
    @if (!Model.Any())
    {
        <div class="alert alert-info mt-4 text-center">
            <i class="fas fa-info-circle me-1"></i>
            Chưa có lịch trình cho tour này.
        </div>
    }
</div>

<style>
    .back-btn {
        font-weight: 500;
        opacity: 0.85;
        transition: all 0.25s ease;
    }

    .back-btn:hover {
        opacity: 1;
        transform: translateX(-2px);
    }

    .bg-light-purple {
        background-color: #f8f5ff !important;
    }

    .hover-lift {
        transition: all 0.3s ease;
    }

    .hover-lift:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    .shadow-xl {
        box-shadow: 0 20px 40px rgba(0,0,0,0.1) !important;
    }

    .card {
        border-radius: 1.5rem;
    }
</style>
